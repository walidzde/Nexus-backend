
# Application
spring.application.name=ecommerce-backend

## Database (External Postgres via environment variables)
# Set these environment variables to point to your external Postgres.
# Example (Supabase):
#   DB_URL=jdbc:postgresql://<host>:5432/postgres?sslmode=require
#   DB_USERNAME=postgres
#   DB_PASSWORD=******
spring.datasource.url=${spring_datasource_url}
spring.datasource.username=${spring_datasource_username}
spring.datasource.password=${spring_datasource_password}
spring.datasource.driver-class-name=org.postgresql.Driver
#jdbc:postgresql://aws-1-eu-west-3.pooler.supabase.com:5432/postgres?user=postgres.aytjemcbnmlyjsxzfxee&password=[YOUR_PASSWORD]
# Connection pool tuning (HikariCP)
spring.datasource.hikari.maximum-pool-size=${DB_POOL_SIZE:10}
spring.datasource.hikari.minimum-idle=${DB_MIN_IDLE:2}
spring.datasource.hikari.connection-timeout=${DB_CONN_TIMEOUT_MS:30000}

# Hibernate JPA
spring.jpa.hibernate.ddl-auto=${JPA_DDL_AUTO:update}
spring.jpa.show-sql=${JPA_SHOW_SQL:true}
spring.jpa.properties.hibernate.format_sql=${HIBERNATE_FORMAT_SQL:true}
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect

# Flyway (disabled by default; enable when you add migrations)
spring.flyway.enabled=${FLYWAY_ENABLED:false}
spring.flyway.locations=${FLYWAY_LOCATIONS:classpath:db/migration}

# JWT CONFIGURATION
# You can also provide this via env var JWT_SECRET
jwt.secret=${jwt_secret}
jwt.expiration-ms=${JWT_EXPIRATION_MS:3600000}
jwt.refresh-expiration-ms=${JWT_REFRESH_EXPIRATION_MS:2592000000}


